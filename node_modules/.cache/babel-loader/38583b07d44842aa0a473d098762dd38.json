{"ast":null,"code":"import \"source-map-support/register\";\nimport * as uuid from \"uuid\";\nimport handler from \"./libs/handler-lib\";\nimport dynamoDb from \"./libs/dynamodb-lib\";\nexport const main = handler(async (event, context) => {\n  const data = JSON.parse(event.body);\n  const params = {\n    TableName: process.env.tableName,\n    Item: {\n      // The attributes of the item to be created\n      userId: event.requestContext.identity.cognitoIdentityId,\n      // The id of the author\n      noteId: uuid.v1(),\n      // A unique uuid\n      content: data.content,\n      // Parsed from request body\n      attachment: data.attachment,\n      // Parsed from request body\n      createdAt: Date.now() // Current Unix timestamp\n\n    }\n  };\n  await dynamoDb.put(params);\n  return params.Item;\n});","map":{"version":3,"sources":["/Users/vishal.garg/master/notes-api/create.js"],"names":["uuid","handler","dynamoDb","main","event","context","data","JSON","parse","body","params","TableName","process","env","tableName","Item","userId","requestContext","identity","cognitoIdentityId","noteId","v1","content","attachment","createdAt","Date","now","put"],"mappings":";AAAA,OAAO,KAAKA,IAAZ,MAAsB,MAAtB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AAEA,OAAO,MAAMC,IAAI,GAAGF,OAAO,CAAC,OAAOG,KAAP,EAAcC,OAAd,KAA0B;AACpD,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,IAAjB,CAAb;AACA,QAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADV;AAEbC,IAAAA,IAAI,EAAE;AACJ;AACAC,MAAAA,MAAM,EAAEZ,KAAK,CAACa,cAAN,CAAqBC,QAArB,CAA8BC,iBAFlC;AAEqD;AACzDC,MAAAA,MAAM,EAAEpB,IAAI,CAACqB,EAAL,EAHJ;AAGe;AACnBC,MAAAA,OAAO,EAAEhB,IAAI,CAACgB,OAJV;AAImB;AACvBC,MAAAA,UAAU,EAAEjB,IAAI,CAACiB,UALb;AAKyB;AAC7BC,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL,EANP,CAMmB;;AANnB;AAFO,GAAf;AAYA,QAAMxB,QAAQ,CAACyB,GAAT,CAAajB,MAAb,CAAN;AAEA,SAAOA,MAAM,CAACK,IAAd;AACD,CAjB0B,CAApB","sourcesContent":["import * as uuid from \"uuid\";\nimport handler from \"./libs/handler-lib\";\nimport dynamoDb from \"./libs/dynamodb-lib\";\n\nexport const main = handler(async (event, context) => {\n  const data = JSON.parse(event.body);\n  const params = {\n    TableName: process.env.tableName,\n    Item: {\n      // The attributes of the item to be created\n      userId: event.requestContext.identity.cognitoIdentityId, // The id of the author\n      noteId: uuid.v1(), // A unique uuid\n      content: data.content, // Parsed from request body\n      attachment: data.attachment, // Parsed from request body\n      createdAt: Date.now(), // Current Unix timestamp\n    },\n  };\n\n  await dynamoDb.put(params);\n\n  return params.Item;\n});\n"]},"metadata":{},"sourceType":"module"}